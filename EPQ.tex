\documentclass[10pt,a4paper,draft]{report}

%Add needed packages
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amsfonts,amssymb,amsthm}
\usepackage[english]{babel}
\usepackage{chngcntr}
\usepackage[titletoc]{appendix}
\usepackage[utf8]{inputenc}
\usepackage{listings}
\usepackage{xcolor}

\usepackage{tikz, pgf, pgfplots}
\pgfplotsset{width=10cm,compat=1.9}
\usepgfplotslibrary{external}
\tikzexternalize[prefix=tikz/]

%Colours and styling for code segments
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{code}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=code}

\usepackage[hidelinks, pdfpagelabels]{hyperref}
\hypersetup{pageanchor = false}

\setlength{\parindent}{0mm}

%Document information
\title{Philosophies, Principles and Concepts \\ of AI and Machine Learning}
\author{Faris Chaudhry}
\date{\today}

%Define environments
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem*{definition}{Definition}
\counterwithout{equation}{chapter}

%Commands for changing page numbering
\newcommand\frontmatter{
	\cleardoublepage
	\pagenumbering{roman}}
\newcommand\mainmatter{
	\cleardoublepage
	\pagenumbering{arabic}}

\begin{document}

	\frontmatter
	\maketitle

	\begin{abstract}
	\end{abstract}

	\tableofcontents
	\lstlistoflistings
	\mainmatter

	\chapter{Introduction to AI}

	\section{History}

	\begin{appendices}
		\chapter{Number Recognition}
		\lstinputlisting[language=lua]{code/main.lua}

	\end{appendices}

\end{document}
